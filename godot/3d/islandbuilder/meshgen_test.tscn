[gd_scene load_steps=11 format=3 uid="uid://t3qlgeb877ia"]

[ext_resource type="Script" uid="uid://cj00i487wxspv" path="res://3d/islandbuilder/meshgen_test.gd" id="1_jyekb"]
[ext_resource type="Material" uid="uid://dofsy83ofsdua" path="res://3d/islandbuilder/materials/mat_island_sandy_nobake.tres" id="2_0ow68"]
[ext_resource type="Material" uid="uid://d64jtoqgwdle" path="res://3d/islandbuilder/materials/mat_island_sandy.tres" id="3_rd51c"]
[ext_resource type="Material" uid="uid://cm8v2ufi8wc32" path="res://addons/stag_toolkit/utils/shaders/matdebug_csg_union.tres" id="4_lkpm7"]
[ext_resource type="Material" uid="uid://c64nj8mhjbl43" path="res://addons/stag_toolkit/utils/shaders/matdebug_csg_subtract.tres" id="5_0ow68"]

[sub_resource type="NavIslandProperties" id="NavIslandProperties_rd51c"]
aabb = AABB(-10.7904, -9.02179, -10.1561, 21.5808, 18.0436, 20.3122)
center = Vector3(10.7904, 9.02179, 10.1561)
radius = 14.8182

[sub_resource type="IslandBuilderSettingsTweaks" id="IslandBuilderSettingsTweaks_0ow68"]
seed = 41
w_sampling_density = 1.665
w_sampling_offset = 4.709
w_striation = 4.118

[sub_resource type="IslandBuilderSettingsMesh" id="IslandBuilderSettingsMesh_0ow68"]
ao_strength = 0.75

[sub_resource type="IslandBuilderSettingsVoxels" id="IslandBuilderSettingsVoxels_rd51c"]
sdf_smooth_iterations = 3
sdf_smooth_radius_voxels = 2
striation_amplitude = 0.3

[sub_resource type="IslandBuilderSettings" id="IslandBuilderSettings_23xmi"]
voxels = SubResource("IslandBuilderSettingsVoxels_rd51c")
mesh = SubResource("IslandBuilderSettingsMesh_0ow68")
material_baked = ExtResource("3_rd51c")
material_preview = ExtResource("2_0ow68")

[node name="MeshgenTest" type="Node3D"]
script = ExtResource("1_jyekb")
navigation_properties = SubResource("NavIslandProperties_rd51c")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.957823, -0.287108, 0.0120334, 0, 0.0418757, 0.999123, -0.28736, 0.956982, -0.0401095, 0, 0, 0)
shadow_enabled = true

[node name="island_test" type="Node3D" parent="."]

[node name="IslandBuilder" type="IslandBuilder" parent="island_test" groups=["StagToolkit_IslandBuilder"]]
output_to = NodePath("../body")
tweaks = SubResource("IslandBuilderSettingsTweaks_0ow68")
settings = SubResource("IslandBuilderSettings_23xmi")
metadata/volume = 4.75614

[node name="UNION_box" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.632248, -0.31414533, 2.00385)
material_override = ExtResource("4_lkpm7")
size = Vector3(9.58691, 6.0679946, 8.56226)

[node name="UNION_box2" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(0.882217, 0, 0.470843, 0, 1, 0, -0.470843, 0, 0.882217, 0.531739, 0.601569, 5.97205)
material_override = ExtResource("4_lkpm7")
size = Vector3(8.83887, 5.4397, 6.30359)

[node name="UNION_box3" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(-0.607545, 0.0198268, 0.794038, -0.000218863, 0.999684, -0.0251291, -0.794286, -0.0154409, -0.607348, -4.24356, -0.214732, 3.81835)
material_override = ExtResource("4_lkpm7")
size = Vector3(8.16074, 3.96839, 8.34908)

[node name="UNION_box4" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(0.954971, -0.0345262, 0.294683, 0.0648448, 0.993483, -0.0937389, -0.289527, 0.108627, 0.950986, -4.54346, 3.92642, -1.96572)
material_override = ExtResource("4_lkpm7")
size = Vector3(8, 4.53442, 6.7832)

[node name="UNION_box6" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(0.954971, -0.118724, 0.271909, 0.0648448, 0.977811, 0.199202, -0.289527, -0.1726, 0.941479, -3.81231, -0.962237, -1.20975)
material_override = ExtResource("4_lkpm7")
size = Vector3(5.84625, 10.0297, 4.90283)

[node name="UNION_box7" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(0.954971, -0.143605, 0.25963, 0.0648448, 0.954927, 0.289672, -0.289527, -0.259792, 0.921239, -2.52851, -10.8035, 0.820585)
material_override = ExtResource("4_lkpm7")
size = Vector3(3.15259, 10.7419, 3.25928)

[node name="Node3D" type="Node3D" parent="island_test/IslandBuilder"]

[node name="SUBTRACT_box4" type="CSGBox3D" parent="island_test/IslandBuilder/Node3D"]
transform = Transform3D(0.423994, 0, 0.905665, 0, 1, 0, -0.905665, 0, 0.423994, 4.97443, 0.583381, 7.32439)
material_override = ExtResource("5_0ow68")
operation = 2
size = Vector3(9.8324, 8.41626, 5.18124)

[node name="UNION_cylinder" type="CSGCylinder3D" parent="island_test/IslandBuilder/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.03547, -4.37961, 2.3071)
material_override = ExtResource("4_lkpm7")
radius = 4.05811
height = 7.42529

[node name="UNION_cylinder2" type="CSGCylinder3D" parent="island_test/IslandBuilder/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.03547, -9.4389, 2.3071)
material_override = ExtResource("4_lkpm7")
radius = 2.49365
height = 7.42529

[node name="UNION_cylinder3" type="CSGCylinder3D" parent="island_test/IslandBuilder/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.54096, -2.7938, 7.19367)
material_override = ExtResource("4_lkpm7")
radius = 1.45654
height = 6.11255

[node name="UNION_cylinder5" type="CSGCylinder3D" parent="island_test/IslandBuilder/Node3D"]
transform = Transform3D(0.980498, 0.196528, 0, -0.196528, 0.980498, 0, 0, 0, 1, -8.196309, -2.3533666, 2.82161)
material_override = ExtResource("4_lkpm7")
radius = 2.3232422
height = 5.730042

[node name="UNION_cylinder4" type="CSGCylinder3D" parent="island_test/IslandBuilder/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.296256, -2.28568, 8.30254)
material_override = ExtResource("4_lkpm7")
radius = 1.91553
height = 5.09631

[node name="UNION_sphere" type="CSGSphere3D" parent="island_test/IslandBuilder"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0625994, 3.4598, 1.02371)
material_override = ExtResource("4_lkpm7")
radius = 2.61793

[node name="UNION_box5" type="CSGBox3D" parent="island_test/IslandBuilder"]
transform = Transform3D(0.814184, -0.0366008, -0.579452, 0.0103233, 0.998766, -0.0485814, 0.580515, 0.0335724, 0.813557, -7.6754932, 4.451212, 0.57577324)
material_override = ExtResource("4_lkpm7")
size = Vector3(3.57031, 10.0484, 4.48096)

[node name="body" type="RigidBody3D" parent="island_test"]
axis_lock_linear_y = true
axis_lock_angular_x = true
axis_lock_angular_z = true
mass = 38417.7

[node name="mesh_island" type="MeshInstance3D" parent="island_test/body"]
layers = 5
metadata/_edit_lock_ = true
